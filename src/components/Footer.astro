---
// src/components/Footer.astro
import { SITE, SOCIALS } from "../consts"
import Container from "../components/Container.astro"
import StatusIndicator from '../components/StatusIndicator.astro';

const currentYear = new Date().getFullYear();
---

<footer class="bg-[var(--color-bg)] backdrop-blur-md border-t border-[var(--color-border)]">
  <Container size="md">
    <div class="w-full flex flex-col md:flex-row gap-2 whitespace-nowrap items-center py-2">
      <div class="flex flex-grow items-center text-center text-sm text-[var(--color-muted)]">
        &copy; {currentYear} <a href="/" class="text-[var(--color-muted)] hover:text-[var(--color-fg)] px-1">{SITE.TITLE}</a>. All rights reserved.
      </div>
      <div class="flex-shrink-0">
        <div class="flex flex-col-reverse md:flex-row items-center text-center gap-2">
          <StatusIndicator />
          <div id="theme-switcher" class="relative grid grid-cols-3 w-[144px] h-8 bg-[var(--color-bg)] border border-[var(--color-border)] rounded-full overflow-hidden">
            <div id="theme-indicator" class="absolute top-0 left-0 w-1/3 h-full border border-[var(--color-border)] bg-[var(--color-hover)] transition-transform duration-300 rounded-full z-0"></div>
            <button data-theme="light" class="theme-btn relative z-10 flex items-center justify-center" title="Light mode">
              <svg class="size-4" stroke="currentColor"><use href="/ui.svg#sun" /></svg>
            </button>
            <button data-theme="dark" class="theme-btn relative z-10 flex items-center justify-center" title="Dark mode">
              <svg class="size-4" stroke="currentColor"><use href="/ui.svg#moon" /></svg>
            </button>
            <button data-theme="system" class="theme-btn relative z-10 flex items-center justify-center" title="System mode">
              <svg class="size-4" fill="currentColor"><use href="/ui.svg#system" /></svg>
            </button>
          </div>
          
        </div>
      </div>
    </div>
  </Container>
</footer>

<style is:global>
  .theme-btn {
    color: var(--color-muted);
    opacity: 0.6;
    transition: all 0.2s ease-in-out;
  }

  .theme-btn.active {
    opacity: 1;
    color: var(--color-fg);
  }
</style>