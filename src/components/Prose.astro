---
/**
 * Komponen Prose.astro â€” full custom + color system :root
 * Props:
 *  - size: prose-sm | prose | prose-lg | prose-xl | prose-2xl
 *  - centered: boolean
 *  - class: Tailwind extra
 */
const {
  size = 'base',
  centered = false,
  class: extraClass = '',
} = Astro.props;

const sizeMap = {
  sm: 'prose-sm',
  base: 'prose',
  lg: 'prose-lg',
  xl: 'prose-xl',
  '2xl': 'prose-2xl',
};

const sizeClass = sizeMap[size] ?? 'prose';
const alignment = centered ? 'mx-auto text-center' : '';
---
<div
  class={`max-w-none ${sizeClass} dark:prose-invert ${alignment} ${extraClass}

    /* === HEADINGS === */
    prose-headings:font-bold
    prose-headings:underline
    prose-headings:[color:var(--color-fg)]
    prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl prose-h4:text-lg prose-h5:text-base prose-h6:text-sm
    prose-h1:scroll-mt-24 prose-h2:scroll-mt-24 prose-h3:scroll-mt-24 prose-h4:scroll-mt-24

    /* === PARAGRAPH === */
    prose-p:text-justify prose-p:leading-relaxed prose-p:tracking-wide
    prose-p:[color:var(--color-fg)]

    /* === LINK === */
    prose-a:font-medium prose-a:no-underline
    prose-a:[color:var(--color-accent)]
    hover:prose-a:underline
    hover:prose-a:[color:color-mix(in srgb, var(--color-accent) 80%, black)]

    /* === INLINE CODE === */
    prose-code:font-mono prose-code:text-sm prose-code:font-medium
    prose-code:[background-color:color-mix(in srgb, var(--color-border) 80%, white)]
    prose-code:[color:color-mix(in srgb, var(--color-accent) 60%, black)]
    prose-code:px-1.5 prose-code:py-0.5 prose-code:rounded
    prose-code:before:content-none prose-code:after:content-none

    /* === CODE BLOCK === */
    prose-pre:[background-color:#111]
    prose-pre:text-white prose-pre:rounded-xl prose-pre:overflow-x-auto

    /* === BLOCKQUOTE === */
    prose-blockquote:border-l-4 prose-blockquote:pl-4 prose-blockquote:italic
    prose-blockquote:[color:var(--color-muted)]
    prose-blockquote:[border-color:var(--color-border)]

    /* === HR === */
    prose-hr:my-10 prose-hr:[border-color:var(--color-border)]

    /* === STRONG / EMPHASIS === */
    prose-strong:[color:var(--color-fg)]
    prose-em:[color:var(--color-fg)]

    /* === LISTS === */
    prose-ul:pl-6 prose-ol:pl-6 prose-li:leading-relaxed
    prose-li:marker:[color:var(--color-muted)]

    /* === TABLE === */
    prose-table:w-full prose-table:border-collapse
    prose-th:text-left prose-th:font-semibold prose-th:p-2
    prose-th:[background-color:var(--color-bg-secondary)]
    prose-th:[border-color:var(--color-border)]
    prose-td:p-2 prose-td:[border-color:var(--color-border)]

    /* === IMAGE === */
    prose-img:mx-auto prose-img:rounded-xl prose-img:shadow
    prose-img:[border:1px solid var(--color-border)]

    /* === FIGURE === */
    prose-figcaption:mt-2 prose-figcaption:text-sm prose-figcaption:text-center
    prose-figcaption:[color:var(--color-muted)]

    /* === KBD / MARK / DEL / ABBR === */
    prose-kbd:px-1.5 prose-kbd:py-0.5 prose-kbd:rounded prose-kbd:text-xs prose-kbd:font-semibold
    prose-kbd:[background-color:var(--color-hover)] prose-kbd:[color:var(--color-fg)]
    prose-mark:[background-color:var(--color-accent)] prose-mark:[color:var(--color-accent-fg)]
    prose-del:[color:red] prose-abbr:border-b prose-abbr:border-dotted prose-abbr:cursor-help prose-abbr:[color:var(--color-muted)]

    /* === SUP & SUB === */
    prose-sup:text-xs prose-sub:text-xs prose-sup:align-super prose-sub:align-sub
  `}
>
  <slot />
</div>