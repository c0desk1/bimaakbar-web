<!DOCTYPE html>

<html lang="id">



<head>

    <meta charset="UTF-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Dashboard</title>

    <link rel="stylesheet" href="css/dashboard.css" />
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>

    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>



    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


</head>



<body class="loading-dashboard">
    <div id="loadingOverlay">

        <div class="spinner-flower-base spinner-flower-large" aria-hidden="true">

            <div></div>

            <div></div>

            <div></div>

            <div></div>

            <div></div>

            <div></div>

            <div></div>

            <div></div>

        </div>

    </div>
    <header>
        <div class="header-left" id="pageTitle"></div>
        <div class="header-center">

            <img src="assets/logo.png" alt="Logo" />

        </div>

        <div class="header-right">

            <div class="header-stats">

                <div class="stat-item">

                    <ion-icon name="document-text-outline"></ion-icon>

                    <span id="headerStatPosts">0 Post</span>

                </div>

                <div class="stat-item">

                    <ion-icon name="eye-outline"></ion-icon>

                    <span id="headerStatViews">0 Views</span>

                </div>

            </div>

            <button class="logout-btn" onclick="logout()">

                <ion-icon name="log-out-outline"></ion-icon>

            </button>

        </div>

    </header>



    <aside class="sidebar">

        <div class="sidebar-header">

            <img src="assets/logo.png" alt="Logo" />

        </div>

        <ul class="sidebar-nav-list">

            <li class="sidebar-nav-item">

                <a href="#" class="nav-link active" data-target="dashboardSection">

                    <ion-icon name="home-outline"></ion-icon>

                    <span>Dashboard</span>

                </a>

            </li>

            <li class="sidebar-nav-item">

                <a href="#" class="nav-link" data-target="postStatsSection">

                    <ion-icon name="stats-chart-outline"></ion-icon>

                    <span>Statistik Postingan</span>

                </a>

            </li>

            <li class="sidebar-nav-item">

                <a href="#" class="nav-link" data-target="addPostSection">

                    <ion-icon name="add-circle-outline"></ion-icon>

                    <span>Buat Postingan Baru</span>

                </a>

            </li>

            <li class="sidebar-nav-item">

                <a href="#" class="nav-link" data-target="postListSection">

                    <ion-icon name="folder-open-outline"></ion-icon>

                    <span>Daftar Postingan</span>

                </a>

            </li>
            <li class="sidebar-nav-item">

                <a href="#" class="nav-link" data-target="settingsSection">

                    <ion-icon name="settings-outline"></ion-icon>

                    <span>Pengaturan</span>

                </a>

            </li>

            <li class="sidebar-nav-item">

                <a href="#" class="logout-link" onclick="logout()">

                    <ion-icon name="log-out-outline"></ion-icon>

                    <span>Logout</span>

                </a>

            </li>

        </ul>

    </aside>



    <div class="content-wrapper">

        <div class="main-content" id="mainContent">



            <div id="dashboardSection" class="content-section">

                <div class="greeting-section">

                    <h1 id="greeting-text-dynamic">Halo, Admin!</h1>

                </div>



                <div class="dashboard-section text-center">

                    <h2>Selamat Datang Admin</h2>
                    <img src="assets/logo.png" alt="Logo" style="max-width: 150px; opacity: 0.7;" />

                    <p style="margin-top: 20px; font-size: 0.9em; color: var(--text-muted);">Waktu Server (Lokal): <span id="serverTime">Memuat...</span></p>

                </div>



                <div class="dashboard-section">

                    <h2>Statistik Umum</h2>

                    <div class="stat-grid">

                        <div class="stat-card">

                            <span class="stat-value" id="statCardViews">0</span>

                            <span class="stat-label">Total Views</span>

                        </div>

                        <div class="stat-card">

                            <span class="stat-value" id="statCardPosts">0</span>

                            <span class="stat-label">Jumlah Postingan</span>

                        </div>

                        <div class="stat-card">

                            <span class="stat-value" id="statCardComments">0</span>

                            <span class="stat-label">Total Komentar</span>

                        </div>

                        <div class="stat-card">

                            <span class="stat-value" id="statCardCategories">0</span>

                            <span class="stat-label">Kategori</span>

                        </div>

                    </div>

                </div>



                <div class="dashboard-section">

                    <h2>Postingan Teratas</h2>

                    <div class="data-list">

                        <ul id="topPostsList">

                            <li style="text-align: center; color: var(--text-muted);">Memuat postingan teratas...</li>

                        </ul>

                    </div>

                </div>



                <div class="dashboard-section">

                    <h2>Postingan Terbaru</h2>

                    <div class="data-list">

                        <ul id="latestPostsList">

                            <li style="text-align: center; color: var(--text-muted);">Memuat...</li>

                        </ul>

                    </div>

                </div>



                <div class="dashboard-section">

                    <h2>Aktivitas Login Terbaru (Top 5)</h2>

                    <div class="data-list">

                        <ul id="loginActivityList">

                            <li style="text-align: center; color: var(--text-muted);">Memuat...</li>

                        </ul>

                    </div>

                </div>



                <div class="dashboard-section">

                    <h2>Informasi Sistem</h2>

                    <div class="info-grid">

                        <div class="info-item">

                            <span class="info-label">Versi Dashboard:</span>

                            <span class="info-value">1.0.0</span>

                        </div>

                        <div class="info-item">

                            <span class="info-label">Terakhir Diperbarui:</span>

                            <span class="info-value" id="lastUpdatedDashboard">Memuat...</span>

                        </div>

                        <div class="info-item">

                            <span class="info-label">Firebase Project ID:</span>

                            <span class="info-value" id="firebaseProjectId">Memuat...</span>

                        </div>

                    </div>

                </div>

            </div>



            <div id="postStatsSection" class="content-section" style="display: none;">

                <div class="dashboard-section">

                    <h2>Statistik Postingan</h2>

                    <p>Lihat grafik dan data terperinci tentang performa postingan Anda di sini.</p>



                    <div class="form-group">

                        <label for="statFilterCategory">Filter Berdasarkan Kategori:</label>

                        <select id="statFilterCategory">

                            <option value="all">Semua Kategori</option>

                            </select>

                    </div>



                    <h3 style="margin-top: 30px; color: var(--text-lighter);">Views Postingan</h3>

                    <div class="chart-container">

                        <canvas id="postViewsChart"></canvas>

                        <p id="chartViewsMessage" style="text-align: center; color: var(--text-muted); margin-top: 15px; display: none;">Memuat data grafik...</p>

                    </div>



                    <h3 style="margin-top: 30px; color: var(--text-lighter);">Views per Kategori</h3>

                    <div class="chart-container">

                        <canvas id="categoryViewsChart"></canvas>

                        <p id="chartCategoryViewsMessage" style="text-align: center; color: var(--text-muted); margin-top: 15px; display: none;">Memuat data grafik...</p>

                    </div>





                    <h3 style="margin-top: 30px; color: var(--text-lighter);">Ringkasan Statistik</h3>

                    <div class="info-grid">

                        <div class="info-item">

                            <span class="info-label">Total Views Bulan Ini:</span>

                            <span class="info-value" id="monthlyViews">0</span>

                        </div>

                        <div class="info-item">

                            <span class="info-label">Postingan Populer:</span>

                            <span class="info-value" id="mostPopularPost">N/A</span>

                        </div>

                        <div class="info-item">

                            <span class="info-label">Rata-rata Komentar per Post:</span>

                            <span class="info-value" id="avgCommentsPerPost">0</span>

                        </div>

                    </div>



                    <h3 style="padding-bottom: 30px; margin-top: 30px; color: var(--text-lighter);">Top 3 Postingan Bulan Ini</h3>
                    <div class="data-list">

                        <ul id="topMonthlyPostsList">

                            <li style="text-align: center; color: var(--text-muted);">Memuat postingan...</li>

                        </ul>

                    </div>



                    <h3 style="padding-bottom: 30px; margin-top: 30px; color: var(--text-lighter);">Kategori Paling Aktif</h3>
                    <div class="data-list">

                        <ul id="mostActiveCategoriesList">

                            <li style="text-align: center; color: var(--text-muted);">Memuat...</li>

                        </ul>

                    </div>

                </div>

            </div>



            <div id="addPostSection" class="content-section" style="display: none;">

                <div class="dashboard-section">

                    <h2>Buat Postingan Baru</h2>

                    <form id="addPostForm">

                        <div class="form-group">

                            <label for="postTitle">Judul Postingan:</label>

                            <input type="text" id="postTitle" placeholder="Masukkan judul postingan" required>

                        </div>

                        <div class="form-group">

                            <label for="postCategory">Kategori:</label>

                            <select id="postCategory" required>

                                <option value="">Pilih Kategori</option>

                                </select>

                        </div>
                        
                        <div class="form-group">
							<label for="postCover">URL Cover (opsional)</label>
							<input type="url" id="postCover" placeholder="https://...">
						</div>
						<div class="form-group">
							<label for="postExcerpt">Ringkasan/Excerpt (opsional)</label>
							<input type="text" id="postExcerpt" placeholder="Boleh dikosongkan">
						</div>

                        <div class="form-group">

                            <label for="postContent">Konten Postingan:</label>

                            <textarea id="postContent" placeholder="Tulis konten postingan Anda di sini..." required></textarea>

                        </div>
                        
                        <div class="form-group">
						  <label for="postTags">Hashtags</label>
						  <input type="text" id="postTags" placeholder="tag1,tag2,tag3">
						</div>

                        <div class="form-group">

                            <label>Status:</label>

                            <div class="radio-group">

                                <input type="radio" id="statusPublished" name="postStatus" value="published" checked>

                                <label for="statusPublished">Publikasi</label>

                                <input type="radio" id="statusDraft" name="postStatus" value="draft">

                                <label for="statusDraft">Draf</label>

                                <input type="radio" id="statusScheduled" name="postStatus" value="scheduled">

                                <label for="statusScheduled">Terjadwal</label>

                            </div>

                        </div>

                        <div class="form-group" id="scheduleDateTimeGroup" style="display: none;">

                            <label>Jadwalkan Publikasi:</label>

                            <div class="datetime-group">

                                <div class="form-group">

                                    <label for="scheduleDate">Tanggal:</label>

                                    <input type="date" id="scheduleDate">

                                </div>

                                <div class="form-group">

                                    <label for="scheduleTime">Waktu:</label>

                                    <input type="time" id="scheduleTime">

                                </div>

                            </div>

                        </div>
                        <button type="button" class="btn-preview" id="previewPostBtn" style="margin-right:10px;">Preview</button>

                        <button type="submit" class="btn-submit">Simpan Postingan</button>

                        <p id="addPostMessage" style="margin-top: 15px;"></p>

                    </form>
                    <div id="previewModal" class="modal" style="display:none;">
                        <div class="modal-content">
                            <span class="close" id="closePreviewModal">&times;</span>
                            <div id="previewContent"></div>
                        </div>
                    </div>

                </div>

            </div>



            <div id="postListSection" class="content-section" style="display: none;">

                <div class="dashboard-section">

                    <h2>Daftar Semua Postingan</h2>

                    <p>Kelola semua postingan Anda: edit, lihat, atau hapus.</p>

                    <div class="post-list" id="allPostsCardList"></div>

                </div>

            </div>



            <div id="settingsSection" class="content-section" style="display: none;">

                <div class="dashboard-section">

                    <h2>Pengaturan Aplikasi</h2>

                    <p>Kelola konfigurasi umum atau akun Anda.</p>

                    <form id="settingsForm">

                        <div class="form-group">

                            <label for="adminEmail">Email Admin:</label>

                            <input type="email" id="adminEmail" value="admin@example.com" readonly>

                            <small style="color: var(--text-muted);">Email ini terdaftar sebagai akun admin.</small>

                        </div>

                        <div class="form-group">

                            <label for="siteName">Nama Situs:</label>

                            <input type="text" id="siteName" placeholder="Nama Situs Anda">

                        </div>

                        <div class="form-group">

                            <label for="itemsPerPage">Item per Halaman (Default):</label>

                            <input type="number" id="itemsPerPage" value="10" min="1" max="100">

                        </div>

                        <div class="settings-button">
    						<button type="button" class="btn-submit" id="changePasswordBtn">Ubah Password</button>
    						<button type="submit" class="btn-submit" style="margin-top: 10px;">Simpan Pengaturan</button>
    						<p id="settingsMessage" style="margin-top: 15px;"></p>
						</div>
                    </form>

                </div>

            </div>



        </div>

    </div>



    <nav class="bottom-nav">

        <a href="#" class="bottom-nav-item nav-link active" data-target="dashboardSection">

            <ion-icon name="home-outline"></ion-icon>
        </a>

        <a href="#" class="bottom-nav-item nav-link" data-target="postStatsSection">

            <ion-icon name="stats-chart-outline"></ion-icon>
        </a>

        <a href="#" class="bottom-nav-item nav-link" data-target="addPostSection">

            <ion-icon name="add-circle-outline"></ion-icon>
        </a>

        <a href="#" class="bottom-nav-item nav-link" data-target="postListSection">

            <ion-icon name="folder-open-outline"></ion-icon>
        </a>
        <a href="#" class="bottom-nav-item nav-link" data-target="settingsSection">

            <ion-icon name="settings-outline"></ion-icon>
        </a>

    </nav>



    <script src="js/dashboard.js"></script>

</body>



</html>
